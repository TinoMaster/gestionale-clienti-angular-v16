<div class="container p-3 bg-white rounded shadow">
  <div
    class="d-flex justify-content-between align-items-center my-bg-dark bg-gradient text-white rounded p-3"
  >
    <span class="h4 pt-1">{{ title }}</span>
    <div>
      <a [routerLink]="modifyRoute" class="btn btn-warning btn-sm me-2"
        >Modifica</a
      >
      <button (click)="deleteFunction()" class="btn btn-danger btn-sm">
        Elimina
      </button>
    </div>
  </div>

  <div class="">
    <div class="details my-3 p-1">
      <ng-content select=".details"></ng-content>
    </div>

    <h2 class="h5 p-1">{{ tableTitle }}</h2>
    <div
      *ngIf="dataSource; else noProducts"
      class="table-responsive"
    >
    <table
      mat-table
      [dataSource]="dataSource"
      class="mat-elevation-z8 shadow-sm"
    >
      <ng-container
        *ngFor="let column of displayedColumns; let first = first; let last = last"
        [matColumnDef]="column"
      >
        <th
          mat-header-cell
          *matHeaderCellDef
          [class]="first ? 'rounded-start-1' : '' + (last ? ' rounded-end-1' : '')"
          class="text-white border-0 bg-dark bg-gradient"
        >
          {{ column | titlecase }}
        </th>
        <td
          mat-cell
          *matCellDef="let element; let i = index"
          [class]="i % 2 === 0 ? 'bg-light' : 'bg-white'"
          class="border-0 w-50"
        >
          {{ element[column] }}
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>

  <ng-template #noProducts>
    <p class="text-muted">Non ci sono elementi da mostrare</p>
  </ng-template>

    <div class="d-flex justify-content-end mt-2">
      <a [routerLink]="addButtonRoute" class="btn my-btn-primary bg-gradient">{{
        addButtonLabel
      }}</a>
    </div>

    <div
      class="d-flex flex-wrap justify-content-end align-items-center gap-3 mt-4 p-3 bg-light border rounded"
    >
      <span><strong>IMPONIBILE:</strong> {{ imponibile | currency }}</span>
      <span><strong>IVA:</strong> {{ iva }} %</span>
      <span class="text-success"
        ><strong>TOTALE: {{ totale | currency }}</strong>
      </span>
    </div>
  </div>
</div>
